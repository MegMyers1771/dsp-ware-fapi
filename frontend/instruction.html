<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Инструкция — DSP-Ware</title>
  <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/static/css/tag-elements.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- <style>
    body { background: #0e0f11; color: #f5f5f5; }
    .card { background: #16181b; border-color: #222; }
    .card-title { color: #c5d1ff; }
    .lead { color: #adb5bd; }
  </style> -->
</head>
<body>
  <nav class="navbar navbar-expand-lg bg-dark" data-bs-theme="dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">DSP-Ware_alpha</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarInstruction" aria-controls="navbarInstruction" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- <div class="collapse navbar-collapse" id="navbarInstruction">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="/">Вкладки</a></li>
          <li class="nav-item"><a class="nav-link" href="/history">История выдачи</a></li>
          <li class="nav-item"><a class="nav-link" href="/parser">Парсер</a></li>
        </ul>
        <span class="navbar-text text-muted small">Справка</span>
      </div> -->
    </div>
  </nav>

  <div class="container py-4">
    <div class="d-flex align-items-center gap-3 flex-wrap mb-3">
      <h1 class="mb-0">Инструкция по DSP-Ware</h1>
      <!-- <p class="lead mb-0">Краткие шаги работы и подсказки по функциям</p> -->
    </div>

    <div class="row g-3">
      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">1. Авторизация</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div><strong>Все содержимое БД отображается только после авторизации.</strong></div>
              <div><strong>Всего есть 3 роли:</strong></div>
              <ul class="mb-0">
                <li><strong>Admin</strong> — создаёт других пользователей и имеет полный доступ над БД и парсингом.</li>
                <li><strong>Editor</strong> — может создавать, удалять, добавлять все сущности (вкладки, ящики, айтемы). Не имеет доступа к созданию пользователей и парсингу.</li>
                <li><strong>Viewer</strong> — может просматривать содержимое БД, но без возможности что либо изменять.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">2. Шапка: Выпадающий список "Создание"</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div><strong>Вкладка</strong> — создает сущность, в которой можно создавать ящики и айтемы внутри ящиков. Вкладка может быть импортирована из парсинга данных с Google Sheets.</div>
              <div><strong>Статус</strong> — создает статус с названием и цветом который указывается при использовании кнопки "Выдать айтем". Можно создавать сколько угодно статусов.</div>
              <div><strong>Тэг</strong> — создает тэг с названием и цветом, который можно привязать к любой сущности (вкладка, ящик, айтем).</div>
              <div>Можно создавать сколько угодно тэгов и так же сколько угодно привязывать к сущностям.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">3. Шапка: "История выдачи"</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div>История выдачи - показывает историю выданных айтемов, с указанным статусом, ответственным (логин пользователя) и прочими опциональными параметрами.</div>
              <div>История выдачи дублируется в excel который можно скачать (кнопка "Скачать XLSX").</div>
              <div>В истории выдачи работает поиск по всем фильтрам. Можно так же указать фильтр по дате создания выдачи.</div>
              <div>Есть возможность изменять статус, при изменении появляется новая запись в XLSX файле, с тем же айтемом, но с другими статусом.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">4. Вкладка</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div>На странице с вкладкой (HDD, ОП, МАТ...) отображаются ящики который привязаны к этой вкладке. Кол-во отображенных ящиков можно менять по клику выпадающего списка "На странице".</div>
              <div>Ящик можно открыть кликнув на него, либо указав название в строке "Открыть ящик по имени".</div>
              <div>При открытии ящика появляется окно с его содержимым (айтемы). Масштаб ящика можно менять ползунков либо кнопкой (⤢).</div>
              <div>При клике на название айтема можно скопировать его в буфер.</div>
              <div>При двойном клике на айтем можно изменить его аттрибуты (Имя, кол-во, комментарий и т.п.).</div>
              <div><strong>Колонка "ACT" содержит кнопки:</strong></div>
              <ul class="mb-0">
                <li>Редактировать - тоже самое что и двойной клик по айтему</li>
                <li>Выдать - отправить айтем на выдачу с указанием нужных аттрибутов.</li>
                <li>Привязать тэг - привязывает к айтем тэг. Выбрать можно из созданных тэгов.</li>
              </ul>
              <div>Каждый айтем может содержать серийный номер. Колонка с серийным номером отображается если он указан.</div>
              <div>Если айтемов 2 и более, серийники можно указать через запятую (прим. SN09, SN10, SN11). Не допускаются одинаковые значения для серийников.</div>
              <div>Так же допускается указание серийников больше чем кол-во айтемов (например невозможно указать 9 серийников для 8 айтемов, но можно меньше)</div>
              <div>Если при создании/импорте вкладки указан параметр "POS", то для айтемов работает механизм позиционирования.</div>
              <div>Их можно перемещать по ящику при зажатии ЛКМ на параметре POS айтема. Позиции отображаются в виде X (Y) - X от начала, Y от конца.</div>
              <div>На странице вкладки так же работает поиск по айтемам. Поиск работает по всем фильтрам - аттрибуты, тэги, название.</div>
              <div>Поиск срабатывает если указан хотя бы 1 из фильтров. Для расширенного отображения полей айтема в поиске можно включить/выключить переключатель "Показывать все поля".</div>
              <div>При нажатии на зеленую кнопку айтема в результатах поиска, открывает ящик в котором он и айтем подсвечивается зеленым цветом.</div>
              <div><strong>Действия с ящиками:</strong></div>
              <ul class="mb-0">
                <li>Добавить айтем - открывает форму для добавления айтемам по заданным аттрибутам для вкладки.</li>
                <li>Привязать тэг - работает так же как и в остальных случаях для вкладки или айтема.</li>
                <li>Редактировать - можно изменить название, описание и вместимость ящика.</li>
                <li>Вместимость ящика отображается с цветовой индикацией загруженности.</li>
                <li>Удалить - полность удаляет ящик и айтемы которые в нем находятся.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">5. Расширенный режим.</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div>При нажатии на имя пользователя, появляется выпадающий список в котором есть параметр "Расширенный режим".</div>
              <div>При входе в этот режим, все данные по вкладкам подгружаются из базы сразу и появляется возможность просмотра всего содержимого по вкладкам.</div>
              <div>Подгрузка занимает некоторое время.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">6. Парсинг. [ user (admin) -> Парсинг ]</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div><strong>Доступен только для роли admin.</strong></div>
              <div>На странице с парсингом мы создаем конфиг для импорта значений из вкладки Google Sheets. Указываем следующие параметры:</div>
              <ul class="mb-0">
                <li>Название вкладки на в google sheets (например "HDD")</li>
                <li>Столбец с названием ящика (столбец с ящиками должен иметь заголовок в первой ячейке, например "Ящик")</li>
                <li>ID таблицы - достаем из ссылки https://docs.google.com/spreadsheets/d/XX_XX-XX-XX/edit?gid=0#gid=0 - где XX_XX-XX-XX сам ID.</li>
                <li>Credentials JSON (расскажу отдельно откуда его брать)</li>
                <li>Поля - обязательные поля это Имя и Кол-во. Указываем название полей в следующем формате: Поле приложения: Колонка листа.</li>
                <li>Поле приложение - название поля которое будет отображаться в самом dsp-ware</li>
                <li>Колонка листа - название первой ячейки в столбце. (прим. Формат, Ранк, Сокет и т.п.)</li>
                <li>Допустимый значения для ячеек подгружаются автоматически (например S1155, S1366, S1356 и т.п. будут погружены автоматически если существуют в стобце с параметром)</li>
                <li>Включить POS - переключатель для включения позиционирования айтемов в ящике. Если отключено - отображается просто № вместо POS X(Y).</li>
              </ul>
              <div>После добавления конфига, он отобразиться внизу. По нему можно будет спарсить данные (Парсинг) и импортировать вкладку с ящиками и айтемами (Импортировать).</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="card border-primary mb-3">
          <div class="card-body">
            <h5 class="card-title mb-3">7. Синхронизация.</h5>
            <div class="card-text d-flex flex-column gap-2">
              <div>Кнопка "Синхронизации" доступна на странице с вкладками для каждой вкладки в столбце "Действие".</div>
              <div>При нажатии, открывает окно где мы можем синхронизировать действия программы с google-sheets. Все что добавляет/удаляется/редактируется в программе - то же происходит и в google-sheets.</div>
              <div>Чтобы включить парсер, нужно указать конфиг и ID таблицы (подставляется автоматически после указания в парсинге)</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
