<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DSP-Ware ‚Äî Boxes</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Flowbite (–º–æ–¥–∞–ª–∫–∏, –∫–Ω–æ–ø–∫–∏ –∏ —Ç.–ø.) -->
  <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>

  <style>
    body { background-color: #f9fafb; }
  </style>
</head>
<body class="p-6">

  <div class="max-w-6xl mx-auto">
    <h1 id="tabTitle" class="text-2xl font-bold text-gray-800 mb-6">üì¶ –í–∫–ª–∞–¥–∫–∞</h1>

    <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="flex justify-between items-center mb-4">
      <button data-modal-target="addBoxModal" data-modal-toggle="addBoxModal"
        class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
        ‚ûï –î–æ–±–∞–≤–∏—Ç—å —è—â–∏–∫
      </button>

      <div class="flex gap-2 w-1/2">
        <input id="searchInput" type="text" placeholder="–ü–æ–∏—Å–∫ –∞–π—Ç–µ–º–æ–≤..."
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring focus:ring-blue-200 outline-none">
        <button id="searchBtn" class="bg-gray-200 hover:bg-gray-300 rounded-lg px-3">üîç</button>
      </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ -->
    <div id="boxesContainer" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
    <div class="mt-8">
      <h2 class="text-lg font-semibold text-gray-700 mb-2">üîé –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h2>
      <div id="searchResults" class="bg-white border rounded-lg p-4"></div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —è—â–∏–∫–∞ -->
  <div id="addBoxModal" tabindex="-1" aria-hidden="true"
       class="hidden overflow-y-auto overflow-x-hidden fixed inset-0 z-50 justify-center items-center w-full h-full">
    <div class="relative p-4 w-full max-w-md">
      <div class="relative bg-white rounded-lg shadow">
        <form id="addBoxForm" class="p-6">
          <h3 class="text-xl font-semibold mb-4">–î–æ–±–∞–≤–∏—Ç—å —è—â–∏–∫</h3>

          <div class="mb-3">
            <label class="block text-sm font-medium text-gray-700">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input id="boxName" type="text" required class="mt-1 w-full border rounded-lg px-3 py-2">
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</label>
            <input id="boxCapacity" type="number" value="20" min="1" class="mt-1 w-full border rounded-lg px-3 py-2">
          </div>

          <div class="flex justify-end gap-2">
            <button type="button" data-modal-hide="addBoxModal"
              class="px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200">–û—Ç–º–µ–Ω–∞</button>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">–°–æ–∑–¥–∞—Ç—å</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–π—Ç–µ–º–∞ -->
  <div id="addItemModal" tabindex="-1" aria-hidden="true"
       class="hidden overflow-y-auto fixed inset-0 z-50 justify-center items-center w-full h-full">
    <div class="relative p-4 w-full max-w-lg">
      <div class="relative bg-white rounded-lg shadow">
        <form id="addItemForm" class="p-6">
          <h3 class="text-xl font-semibold mb-4">–î–æ–±–∞–≤–∏—Ç—å –∞–π—Ç–µ–º</h3>
          <input type="hidden" id="itemTabId">
          <input type="hidden" id="itemBoxId">

          <div class="mb-3">
            <label class="block text-sm font-medium text-gray-700">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–π—Ç–µ–º–∞</label>
            <input id="itemName" type="text" required class="mt-1 w-full border rounded-lg px-3 py-2">
          </div>

          <div id="tabFieldsContainer" class="space-y-3"></div>

          <div class="flex justify-end gap-2 mt-4">
            <button type="button" data-modal-hide="addItemModal"
              class="px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200">–û—Ç–º–µ–Ω–∞</button>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —è—â–∏–∫–∞ -->
  <div id="boxViewModal" tabindex="-1" aria-hidden="true"
       class="hidden overflow-y-auto fixed inset-0 z-50 justify-center items-center w-full h-full">
    <div class="relative p-4 w-full max-w-3xl">
      <div class="relative bg-white rounded-lg shadow p-6">
        <h3 id="boxViewTitle" class="text-xl font-semibold mb-4">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —è—â–∏–∫–∞</h3>
        <div id="boxViewContent" class="space-y-2 max-h-[60vh] overflow-y-auto"></div>
        <div class="flex justify-end mt-4">
          <button type="button" data-modal-hide="boxViewModal"
            class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/static/js/tab.js"></script>
</body>
</html>
